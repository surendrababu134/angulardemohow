{"version":3,"file":"ng-treetable.js","sources":["../out-tsc/lib/src/component/shared.ts","../out-tsc/lib/src/component/treerow.ts","../out-tsc/lib/src/component/paginator.ts","../out-tsc/lib/src/component/treetable.ts","../out-tsc/lib/index.ts","../out-tsc/lib/ng-treetable.ts"],"sourcesContent":["/**\r\n * Created by andrew.yang on 3/22/2017.\r\n */\r\nimport {NgModule,EventEmitter,Directive,ViewContainerRef,Input,Output,ContentChildren,ContentChild,TemplateRef,OnInit,OnDestroy,AfterContentInit,QueryList,EmbeddedViewRef} from '@angular/core';\r\nimport {CommonModule} from '@angular/common';\r\nimport {Component} from '@angular/core';\r\n\r\n@Component({\r\n    selector: 'ay-header',\r\n    template: '<ng-content></ng-content>'\r\n})\r\nexport class Header {}\r\n\r\n@Component({\r\n    selector: 'ay-footer',\r\n    template: '<ng-content></ng-content>'\r\n})\r\nexport class Footer {}\r\n\r\n@Directive({\r\n    selector: '[pTemplate]',\r\n    host: {\r\n    }\r\n})\r\nexport class PrimeTemplate {\r\n\r\n    @Input() type: string;\r\n\r\n    @Input('pTemplate') name: string;\r\n\r\n    constructor(public template: TemplateRef<any>) {}\r\n\r\n    getType(): string {\r\n        if(this.type) {\r\n            console.log('Defining a pTemplate with type property is deprecated use pTemplate=\"type\" instead.');\r\n            return this.type;\r\n        }\r\n        else {\r\n            return this.name;\r\n        }\r\n    }\r\n}\r\n\r\n@Directive({\r\n    selector: '[pTemplateWrapper]'\r\n})\r\nexport class TemplateWrapper implements OnInit, OnDestroy {\r\n\r\n    @Input() item: any;\r\n\r\n    @Input() index: number;\r\n\r\n    @Input('pTemplateWrapper') templateRef: TemplateRef<any>;\r\n\r\n    view: EmbeddedViewRef<any>;\r\n\r\n    constructor(public viewContainer: ViewContainerRef) {}\r\n\r\n    ngOnInit() {\r\n        this.view = this.viewContainer.createEmbeddedView(this.templateRef, {\r\n            '\\$implicit': this.item,\r\n            'index': this.index\r\n        });\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        this.view.destroy();\r\n    }\r\n}\r\n\r\n@Component({\r\n    selector: 'ay-column',\r\n    template: ``\r\n})\r\nexport class Column implements AfterContentInit{\r\n    @Input() field: string;\r\n    @Input() sortField: string;\r\n    @Input() header: string;\r\n    @Input() footer: string;\r\n    @Input() sortable: any;\r\n    @Input() editable: boolean;\r\n    @Input() filter: boolean;\r\n    @Input() filterMatchMode: string;\r\n    @Input() rowspan: number;\r\n    @Input() colspan: number;\r\n    @Input() style: any;\r\n    @Input() styleClass: string;\r\n    @Input() hidden: boolean;\r\n    @Input() expander: boolean;\r\n    @Input() selectionMode: string;\r\n    @Input() filterPlaceholder: string;\r\n    @Input() frozen: boolean;\r\n    @Output() sortFunction: EventEmitter<any> = new EventEmitter();\r\n    @ContentChildren(PrimeTemplate) templates: QueryList<any>;\r\n    @ContentChild(TemplateRef) template: TemplateRef<any>;\r\n\r\n    public headerTemplate: TemplateRef<any>;\r\n    public bodyTemplate: TemplateRef<any>;\r\n    public footerTemplate: TemplateRef<any>;\r\n    public filterTemplate: TemplateRef<any>;\r\n    public editorTemplate: TemplateRef<any>;\r\n\r\n    ngAfterContentInit():void {\r\n        this.templates.forEach((item) => {\r\n            switch(item.getType()) {\r\n                case 'header':\r\n                    this.headerTemplate = item.template;\r\n                    break;\r\n\r\n                case 'body':\r\n                    this.bodyTemplate = item.template;\r\n                    break;\r\n\r\n                case 'footer':\r\n                    this.footerTemplate = item.template;\r\n                    break;\r\n\r\n                case 'filter':\r\n                    this.filterTemplate = item.template;\r\n                    break;\r\n\r\n                case 'editor':\r\n                    this.editorTemplate = item.template;\r\n                    break;\r\n\r\n                default:\r\n                    this.bodyTemplate = item.template;\r\n                    break;\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\n@Component({\r\n    selector: 'ay-row',\r\n    template: ``\r\n})\r\nexport class Row {\r\n\r\n    @ContentChildren(Column) columns: QueryList<Column>;\r\n\r\n}\r\n\r\n@Component({\r\n    selector: 'ay-headerColumnGroup',\r\n    template: ``\r\n})\r\nexport class HeaderColumnGroup {\r\n\r\n    @ContentChildren(Row) rows: QueryList<any>;\r\n}\r\n\r\n@Component({\r\n    selector: 'ay-footerColumnGroup',\r\n    template: ``\r\n})\r\nexport class FooterColumnGroup {\r\n\r\n    @ContentChildren(Row) rows: QueryList<any>;\r\n}\r\n\r\n@Component({\r\n    selector: 'ay-columnBodyTemplateLoader',\r\n    template: ``\r\n})\r\nexport class ColumnBodyTemplateLoader implements OnInit, OnDestroy {\r\n\r\n    @Input() column: any;\r\n\r\n    @Input() rowData: any;\r\n\r\n    @Input() rowIndex: number;\r\n\r\n    view: EmbeddedViewRef<any>;\r\n\r\n    constructor(public viewContainer: ViewContainerRef) {}\r\n\r\n    ngOnInit() {\r\n        this.view = this.viewContainer.createEmbeddedView(this.column.bodyTemplate, {\r\n            '\\$implicit': this.column,\r\n            'rowData': this.rowData,\r\n            'rowIndex': this.rowIndex\r\n        });\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        this.view.destroy();\r\n    }\r\n}\r\n\r\n@Component({\r\n    selector: 'ay-columnHeaderTemplateLoader',\r\n    template: ``\r\n})\r\nexport class ColumnHeaderTemplateLoader implements OnInit, OnDestroy {\r\n\r\n    @Input() column: any;\r\n\r\n    view: EmbeddedViewRef<any>;\r\n\r\n    constructor(public viewContainer: ViewContainerRef) {}\r\n\r\n    ngOnInit() {\r\n        this.view = this.viewContainer.createEmbeddedView(this.column.headerTemplate, {\r\n            '\\$implicit': this.column\r\n        });\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        this.view.destroy();\r\n    }\r\n}\r\n\r\n@Component({\r\n    selector: 'ay-columnFooterTemplateLoader',\r\n    template: ``\r\n})\r\nexport class ColumnFooterTemplateLoader implements OnInit, OnDestroy {\r\n\r\n    @Input() column: any;\r\n\r\n    view: EmbeddedViewRef<any>;\r\n\r\n    constructor(public viewContainer: ViewContainerRef) {}\r\n\r\n    ngOnInit() {\r\n        this.view = this.viewContainer.createEmbeddedView(this.column.footerTemplate, {\r\n            '\\$implicit': this.column\r\n        });\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        this.view.destroy();\r\n    }\r\n}\r\n\r\n@Component({\r\n    selector: 'ay-columnFilterTemplateLoader',\r\n    template: ``\r\n})\r\nexport class ColumnFilterTemplateLoader implements OnInit, OnDestroy {\r\n\r\n    @Input() column: any;\r\n\r\n    view: EmbeddedViewRef<any>;\r\n\r\n    constructor(public viewContainer: ViewContainerRef) {}\r\n\r\n    ngOnInit() {\r\n        this.view = this.viewContainer.createEmbeddedView(this.column.filterTemplate, {\r\n            '\\$implicit': this.column\r\n        });\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        this.view.destroy();\r\n    }\r\n}\r\n\r\n@Component({\r\n    selector: 'ay-columnEditorTemplateLoader',\r\n    template: ``\r\n})\r\nexport class ColumnEditorTemplateLoader implements OnInit, OnDestroy {\r\n\r\n    @Input() column: any;\r\n\r\n    @Input() rowData: any;\r\n\r\n    view: EmbeddedViewRef<any>;\r\n\r\n    constructor(public viewContainer: ViewContainerRef) {}\r\n\r\n    ngOnInit() {\r\n        this.view = this.viewContainer.createEmbeddedView(this.column.editorTemplate, {\r\n            '\\$implicit': this.column,\r\n            'rowData': this.rowData\r\n        });\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        this.view.destroy();\r\n    }\r\n}\r\n\r\n@Component({\r\n    selector: 'ay-templateLoader',\r\n    template: ``\r\n})\r\nexport class TemplateLoader implements OnInit, OnDestroy {\r\n\r\n    @Input() template: TemplateRef<any>;\r\n\r\n    @Input() data: any;\r\n\r\n    view: EmbeddedViewRef<any>;\r\n\r\n    constructor(public viewContainer: ViewContainerRef) {}\r\n\r\n    ngOnInit() {\r\n        if(this.template) {\r\n            this.view = this.viewContainer.createEmbeddedView(this.template, {\r\n                '\\$implicit': this.data\r\n            });\r\n        }\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        if (this.view) this.view.destroy();\r\n    }\r\n}\r\n\r\n@NgModule({\r\n    imports: [CommonModule],\r\n    exports: [Header,Footer,Column,TemplateWrapper,ColumnHeaderTemplateLoader,ColumnBodyTemplateLoader,ColumnFooterTemplateLoader,ColumnFilterTemplateLoader,PrimeTemplate,TemplateLoader,Row,HeaderColumnGroup,FooterColumnGroup,ColumnEditorTemplateLoader],\r\n    declarations: [Header,Footer,Column,TemplateWrapper,ColumnHeaderTemplateLoader,ColumnBodyTemplateLoader,ColumnFooterTemplateLoader,ColumnFilterTemplateLoader,PrimeTemplate,TemplateLoader,Row,HeaderColumnGroup,FooterColumnGroup,ColumnEditorTemplateLoader]\r\n})\r\nexport class TreeSharedModule { }","/**\r\n * Created by andrew.yang on 3/22/2017.\r\n */\r\nimport {Component, Input, OnInit, Inject, forwardRef, SimpleChanges} from \"@angular/core\";\r\nimport {TreeNode} from \"./model\";\r\nimport {TreeTable} from \"./treetable\";\r\n\r\n@Component({\r\n    selector: '[pTreeRow]',\r\n    template: `\r\n        <div *ngIf=\"treeTable.isFiltered(node)\" class=\"ui-treetable-row\" [class]=\"treeTable.getRowStyleClass(node)\"\r\n            [ngClass]=\"{'ui-state-highlight':isSelected() ,'ui-treetable-row-selectable':treeTable.selectionMode && node.selectable !== false}\">\r\n            <td *ngFor=\"let col of treeTable.columns; let i=index\" [ngStyle]=\"col.style\" [class]=\"col.styleClass\" \r\n            [style.display]=\"col.hidden ? 'none' : 'table-cell'\"\r\n            (click)=\"onRowClick($event)\" (touchend)=\"onRowTouchEnd()\" (contextmenu)=\"onRowRightClick($event)\">\r\n                <a href=\"#\" *ngIf=\"i==0\" class=\"ui-treetable-toggler fa fa-fw ui-c\" [ngClass]=\"{'fa-caret-down':node.expanded,'fa-caret-right':!node.expanded}\"\r\n                    [ngStyle]=\"{'margin-left':level*16 + 'px','visibility': isLeaf() ? 'hidden' : 'visible'}\"\r\n                    (click)=\"toggle($event)\"\r\n                    [title]=\"node.expanded ? labelCollapse : labelExpand\">\r\n                </a>\r\n                <div class=\"ui-chkbox ui-treetable-checkbox\" *ngIf=\"treeTable.selectionMode == 'checkbox' && i==0\">\r\n                    <div class=\"ui-chkbox-box ui-widget ui-corner-all ui-state-default\">\r\n                        <span class=\"ui-chkbox-icon ui-c fa\" \r\n                            [ngClass]=\"{'fa-check':isSelected(),'fa-minus':node.partialSelected}\"></span>\r\n                    </div>\r\n                </div>\r\n                <span *ngIf=\"!col.template\">{{resolveFieldData(node.data,col.field)}}</span>\r\n                <ay-columnBodyTemplateLoader [column]=\"col\" [rowData]=\"node\" *ngIf=\"col.template\"></ay-columnBodyTemplateLoader>\r\n            </td>\r\n        </div>\r\n        <div *ngIf=\"node.children && node.expanded\" class=\"ui-treetable-row\" style=\"display:table-row;white-space: nowrap\">\r\n            <td [attr.colspan]=\"treeTable.shownColumns().length\" class=\"ui-treetable-child-table-container\">\r\n                <table>\r\n                    <tbody pTreeRow *ngFor=\"let childNode of node.children\" [node]=\"childNode\" [level]=\"level+1\" [labelExpand]=\"labelExpand\" [labelCollapse]=\"labelCollapse\" [parentNode]=\"node\"></tbody>\r\n                </table>\r\n            </td>\r\n        </div>\r\n    `\r\n})\r\nexport class UITreeRow implements OnInit {\r\n\r\n    @Input() node: TreeNode;\r\n\r\n    @Input() parentNode: TreeNode;\r\n\r\n    @Input() level: number = 0;\r\n\r\n    @Input() labelExpand: string = \"Expand\";\r\n\r\n    @Input() labelCollapse: string = \"Collapse\";\r\n\r\n    constructor(@Inject(forwardRef(() => TreeTable)) public treeTable:TreeTable) {}\r\n\r\n    ngOnInit() {\r\n        this.node.parent = this.parentNode;\r\n    }\r\n    ngOnChanges(changes: SimpleChanges) {\r\n        if (changes['node'] && this.node){\r\n        }\r\n    }\r\n    toggle(event: Event) {\r\n        if(this.node.expanded)\r\n            this.treeTable.onNodeCollapse.emit({originalEvent: event, node: this.node});\r\n        else\r\n            this.treeTable.onNodeExpand.emit({originalEvent: event, node: this.node});\r\n\r\n        this.node.expanded = !this.node.expanded;\r\n\r\n        event.preventDefault();\r\n    }\r\n\r\n    isLeaf() {\r\n        return this.node.leaf == false ? false : !(this.node.children&&this.node.children.length);\r\n    }\r\n\r\n    isSelected() {\r\n        return this.treeTable.isSelected(this.node);\r\n    }\r\n\r\n    onRowClick(event: MouseEvent) {\r\n        this.treeTable.onRowClick(event, this.node);\r\n    }\r\n\r\n    onRowRightClick(event: MouseEvent) {\r\n        this.treeTable.onRowRightClick(event, this.node);\r\n    }\r\n\r\n    onRowTouchEnd() {\r\n        this.treeTable.onRowTouchEnd();\r\n    }\r\n\r\n    resolveFieldData(data: any, field: string): any {\r\n        if(data && field) {\r\n            if(field.indexOf('.') == -1) {\r\n                return data[field];\r\n            }\r\n            else {\r\n                let fields: string[] = field.split('.');\r\n                let value = data;\r\n                for(var i = 0, len = fields.length; i < len; ++i) {\r\n                    value = value[fields[i]];\r\n                }\r\n                return value;\r\n            }\r\n        }\r\n        else {\r\n            return null;\r\n        }\r\n    }\r\n}","/**\r\n * Created by andrew.yang on 3/22/2017.\r\n */\r\nimport {NgModule,Component,ElementRef,Input,Output,SimpleChange,EventEmitter} from '@angular/core';\r\nimport {CommonModule} from '@angular/common';\r\n\r\n@Component({\r\n    selector: 'ay-paginator',\r\n    template: `\r\n        <div [class]=\"styleClass\" [ngStyle]=\"style\" [ngClass]=\"'ui-paginator ui-widget ui-widget-header ui-unselectable-text'\">\r\n            <a href=\"#\" class=\"ui-paginator-first ui-paginator-element ui-state-default ui-corner-all\"\r\n                    (click)=\"changePageToFirst($event)\" [ngClass]=\"{'ui-state-disabled':isFirstPage()}\" [tabindex]=\"isFirstPage() ? -1 : null\">\r\n                <span class=\"fa fa-step-backward\"></span>\r\n            </a>\r\n            <a href=\"#\" class=\"ui-paginator-prev ui-paginator-element ui-state-default ui-corner-all\"\r\n                    (click)=\"changePageToPrev($event)\" [ngClass]=\"{'ui-state-disabled':isFirstPage()}\" [tabindex]=\"isFirstPage() ? -1 : null\">\r\n                <span class=\"fa fa-backward\"></span>\r\n            </a>\r\n            <span class=\"ui-paginator-pages\">\r\n                <a href=\"#\" *ngFor=\"let pageLink of pageLinks\" class=\"ui-paginator-page ui-paginator-element ui-state-default ui-corner-all\"\r\n                    (click)=\"changePage(pageLink - 1, $event)\" [ngClass]=\"{'ui-state-active': (pageLink-1 == getPage())}\">{{pageLink}}</a>\r\n            </span>\r\n            <a href=\"#\" class=\"ui-paginator-next ui-paginator-element ui-state-default ui-corner-all\"\r\n                    (click)=\"changePageToNext($event)\" [ngClass]=\"{'ui-state-disabled':isLastPage()}\" [tabindex]=\"isLastPage() ? -1 : null\">\r\n                <span class=\"fa fa-forward\"></span>\r\n            </a>\r\n            <a href=\"#\" class=\"ui-paginator-last ui-paginator-element ui-state-default ui-corner-all\"\r\n                    (click)=\"changePageToLast($event)\" [ngClass]=\"{'ui-state-disabled':isLastPage()}\" [tabindex]=\"isLastPage() ? -1 : null\">\r\n                <span class=\"fa fa-step-forward\"></span>\r\n            </a>\r\n            <select class=\"ui-paginator-rpp-options ui-widget ui-state-default\" *ngIf=\"rowsPerPageOptions\" (change)=\"onRppChange($event)\">\r\n                <option *ngFor=\"let opt of rowsPerPageOptions\" [value]=\"opt\" [selected]=\"rows == opt\">{{opt}}</option>\r\n            </select>\r\n        </div>\r\n    `\r\n})\r\nexport class Paginator {\r\n\r\n    @Input() pageLinkSize: number = 5;\r\n\r\n    @Output() onPageChange: EventEmitter<any> = new EventEmitter();\r\n\r\n    @Input() style: any;\r\n\r\n    @Input() styleClass: string;\r\n\r\n    @Input() rowsPerPageOptions: number[];\r\n\r\n    public pageLinks: number[];\r\n\r\n    public _totalRecords: number = 0;\r\n\r\n    public _first: number = 0;\r\n\r\n    public _rows: number = 0;\r\n\r\n    @Input() get totalRecords(): number {\r\n        return this._totalRecords;\r\n    }\r\n\r\n    set totalRecords(val:number) {\r\n        this._totalRecords = val;\r\n        this.updatePageLinks();\r\n    }\r\n\r\n    @Input() get first(): number {\r\n        return this._first;\r\n    }\r\n\r\n    set first(val:number) {\r\n        this._first = val;\r\n        this.updatePageLinks();\r\n    }\r\n\r\n    @Input() get rows(): number {\r\n        return this._rows;\r\n    }\r\n\r\n    set rows(val:number) {\r\n        this._rows = val;\r\n        this.updatePageLinks();\r\n    }\r\n\r\n    isFirstPage() {\r\n        return this.getPage() === 0;\r\n    }\r\n\r\n    isLastPage() {\r\n        return this.getPage() === this.getPageCount() - 1;\r\n    }\r\n\r\n    getPageCount() {\r\n        return Math.ceil(this.totalRecords/this.rows)||1;\r\n    }\r\n\r\n    calculatePageLinkBoundaries() {\r\n        let numberOfPages = this.getPageCount(),\r\n            visiblePages = Math.min(this.pageLinkSize, numberOfPages);\r\n\r\n        //calculate range, keep current in middle if necessary\r\n        let start = Math.max(0, Math.ceil(this.getPage() - ((visiblePages) / 2))),\r\n            end = Math.min(numberOfPages - 1, start + visiblePages - 1);\r\n\r\n        //check when approaching to last page\r\n        var delta = this.pageLinkSize - (end - start + 1);\r\n        start = Math.max(0, start - delta);\r\n\r\n        return [start, end];\r\n    }\r\n\r\n    updatePageLinks() {\r\n        this.pageLinks = [];\r\n        let boundaries = this.calculatePageLinkBoundaries(),\r\n            start = boundaries[0],\r\n            end = boundaries[1];\r\n\r\n        for(let i = start; i <= end; i++) {\r\n            this.pageLinks.push(i + 1);\r\n        }\r\n    }\r\n\r\n    changePage(p :number, event) {\r\n        var pc = this.getPageCount();\r\n\r\n        if(p >= 0 && p < pc) {\r\n            this.first = this.rows * p;\r\n            var state = {\r\n                page: p,\r\n                first: this.first,\r\n                rows: this.rows,\r\n                pageCount: pc\r\n            };\r\n            this.updatePageLinks();\r\n\r\n            this.onPageChange.emit(state);\r\n        }\r\n\r\n        if(event) {\r\n            event.preventDefault();\r\n        }\r\n    }\r\n\r\n    getPage(): number {\r\n        return Math.floor(this.first / this.rows);\r\n    }\r\n\r\n    changePageToFirst(event) {\r\n        this.changePage(0, event);\r\n    }\r\n\r\n    changePageToPrev(event) {\r\n        this.changePage(this.getPage() - 1, event);\r\n    }\r\n\r\n    changePageToNext(event) {\r\n        this.changePage(this.getPage()  + 1, event);\r\n    }\r\n\r\n    changePageToLast(event) {\r\n        this.changePage(this.getPageCount() - 1, event);\r\n    }\r\n\r\n    onRppChange(event) {\r\n        this.rows = this.rowsPerPageOptions[event.target.selectedIndex];\r\n        this.changePageToFirst(event);\r\n    }\r\n}\r\n\r\n@NgModule({\r\n    imports: [CommonModule],\r\n    exports: [Paginator],\r\n    declarations: [Paginator]\r\n})\r\nexport class PaginatorModule { }","/**\n * Created by andrew.yang on 3/22/2017.\n */\nimport {\n    NgModule, Component, Input, Output, EventEmitter, ContentChild, ContentChildren,\n    QueryList, Renderer2, SimpleChanges, OnInit\n} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {Header, Footer, Column, TreeSharedModule} from './shared';\nimport {TreeNode} from \"./model\";\nimport {UITreeRow} from \"./treerow\";\nimport {PaginatorModule} from \"./paginator\";\nimport {AfterViewInit, OnChanges, OnDestroy} from \"@angular/core/src/metadata/lifecycle_hooks\";\n\n@Component({\n    selector: 'ay-treeTable',\n    template: `\n        <div [ngClass]=\"'ui-treetable ui-widget'\" [ngStyle]=\"style\" [class]=\"styleClass\">\n            <div class=\"ui-treetable-header ui-widget-header\" *ngIf=\"header\">\n                <ng-content select=\"ay-header\"></ng-content>\n            </div>\n            <div class=\"ui-treetable-tablewrapper\">\n                <table class=\"ui-widget-content\" [class]=\"tableStyleClass\" [ngStyle]=\"tableStyle\">\n                    <thead>\n                    <tr class=\"ui-state-default\">\n                        <th #headerCell *ngFor=\"let col of columns\" [ngStyle]=\"col.style\" [class]=\"col.styleClass\"\n                            [ngClass]=\"'ui-state-default ui-unselectable-text'\"\n                            [style.display]=\"col.hidden ? 'none' : 'table-cell'\">\n                            <span class=\"ui-column-title\" *ngIf=\"!col.headerTemplate\">{{col.header}}</span>\n                            <span class=\"ui-column-title\" *ngIf=\"col.headerTemplate\">\n                                    <ay-columnHeaderTemplateLoader [column]=\"col\"></ay-columnHeaderTemplateLoader>\n                                </span>\n                        </th>\n                    </tr>\n                    </thead>\n                    <tfoot *ngIf=\"hasFooter()\">\n                    <tr>\n                        <td *ngFor=\"let col of columns\" [ngStyle]=\"col.style\" [class]=\"col.styleClass\"\n                            [ngClass]=\"{'ui-state-default':true}\">\n                            <span class=\"ui-column-footer\" *ngIf=\"!col.footerTemplate\">{{col.footer}}</span>\n                            <span class=\"ui-column-footer\" *ngIf=\"col.footerTemplate\">\n                                    <ay-columnFooterTemplateLoader [column]=\"col\"></ay-columnFooterTemplateLoader>\n                                </span>\n                        </td>\n                    </tr>\n                    </tfoot>\n                    <tbody pTreeRow *ngFor=\"let node of dataToRender;let odd = odd;let even=even\"\n                           [node]=\"node\" [level]=\"0\"\n                           [labelExpand]=\"labelExpand\" [labelCollapse]=\"labelCollapse\"\n                           class=\"ui-widget-content\"\n                           [ngClass]=\"{'ui-treetable-even':even,'ui-treetable-odd':odd}\"\n                    ></tbody>\n                </table>\n            </div>\n            <ay-paginator [rows]=\"rows\" [first]=\"first\" [totalRecords]=\"totalRecords\" [pageLinkSize]=\"pageLinks\"\n                          styleClass=\"ui-paginator-bottom\"\n                          (onPageChange)=\"paginate($event)\" [rowsPerPageOptions]=\"rowsPerPageOptions\"\n                          *ngIf=\"paginator\"></ay-paginator>\n            <div class=\"ui-treetable-footer ui-widget-header\" *ngIf=\"footer\">\n                <ng-content select=\"ay-footer\"></ng-content>\n            </div>\n        </div>\n    `\n})\nexport class TreeTable implements OnInit, OnDestroy, AfterViewInit, OnChanges {\n    @Input() paginator: boolean;\n\n    @Input() rows: number;\n\n    @Input() totalRecords: number;\n\n    @Input() pageLinks: number = 5;\n\n    @Input() rowsPerPageOptions: number[];\n\n    @Input() first: number = 0;\n\n    @Input() lazy: boolean;\n\n    @Input() virtualScroll: boolean;\n\n    @Input() value: TreeNode[];\n\n    @Input() selectionMode: string;\n\n    @Input() selection: any;\n\n    @Input() style: any;\n\n    @Input() styleClass: string;\n\n    @Input() labelExpand: string = \"Expand\";\n\n    @Input() labelCollapse: string = \"Collapse\";\n\n    @Input() metaKeySelection: boolean = true;\n\n    @Input() contextMenu: any;\n\n    @Input() globalFilter: any;\n\n    @Input() filterDelay: number = 300;\n\n    @Input() immutable: boolean;\n\n    @Input() rowStyleClass: Function;\n\n    @Input() tableStyle: any;\n\n    @Input() tableStyleClass: string;\n\n    @Output() selectionChange: EventEmitter<any> = new EventEmitter();\n\n    @Output() onNodeSelect: EventEmitter<any> = new EventEmitter();\n\n    @Output() onNodeUnselect: EventEmitter<any> = new EventEmitter();\n\n    @Output() onNodeExpand: EventEmitter<any> = new EventEmitter();\n\n    @Output() onNodeCollapse: EventEmitter<any> = new EventEmitter();\n\n    @Output() onContextMenuSelect: EventEmitter<any> = new EventEmitter();\n\n    @Output() onLazyLoad: EventEmitter<any> = new EventEmitter();\n\n    @ContentChild(Header) header: Header;\n\n    @ContentChild(Footer) footer: Footer;\n\n    @ContentChildren(Column) columns: QueryList<Column>;\n\n    public rowTouched: boolean;\n    public loading: boolean;\n    public stopFilterPropagation: boolean;\n    public dataToRender: any[];\n    public filterTimeout: any;\n    public filteredValue: any[];\n    globalFilterFunction: any;\n\n    constructor(public renderer: Renderer2) {\n    }\n\n    onRowClick(event: MouseEvent, node: TreeNode) {\n        let eventTarget = (<Element> event.target);\n        if (eventTarget.className && eventTarget.className.indexOf('ui-treetable-toggler') === 0) {\n            return;\n        }\n        else if (this.selectionMode) {\n            if (node.selectable === false) {\n                return;\n            }\n\n            let metaSelection = this.rowTouched ? false : this.metaKeySelection;\n            let index = this.findIndexInSelection(node);\n            let selected = (index >= 0);\n\n            if (this.isCheckboxSelectionMode()) {\n                if (selected) {\n                    this.propagateSelectionDown(node, false);\n                    if (node.parent) {\n                        this.propagateSelectionUp(node.parent, false);\n                    }\n                    this.selectionChange.emit(this.selection);\n                    this.onNodeUnselect.emit({originalEvent: event, node: node});\n                }\n                else {\n                    this.propagateSelectionDown(node, true);\n                    if (node.parent) {\n                        this.propagateSelectionUp(node.parent, true);\n                    }\n                    this.selectionChange.emit(this.selection);\n                    this.onNodeSelect.emit({originalEvent: event, node: node});\n                }\n            }\n            else {\n                if (metaSelection) {\n                    let metaKey = (event.metaKey || event.ctrlKey);\n\n                    if (selected && metaKey) {\n                        if (this.isSingleSelectionMode()) {\n                            this.selectionChange.emit(null);\n                        }\n                        else {\n                            this.selection.splice(index, 1);\n                            this.selectionChange.emit(this.selection);\n                        }\n\n                        this.onNodeUnselect.emit({originalEvent: event, node: node});\n                    }\n                    else {\n                        if (this.isSingleSelectionMode()) {\n                            this.selectionChange.emit(node);\n                        }\n                        else if (this.isMultipleSelectionMode()) {\n                            this.selection = (!metaKey) ? [] : this.selection || [];\n                            this.selection.push(node);\n                            this.selectionChange.emit(this.selection);\n                        }\n\n                        this.onNodeSelect.emit({originalEvent: event, node: node});\n                    }\n                }\n                else {\n                    if (this.isSingleSelectionMode()) {\n                        if (selected) {\n                            this.selection = null;\n                            this.onNodeUnselect.emit({originalEvent: event, node: node});\n                        }\n                        else {\n                            this.selection = node;\n                            this.onNodeSelect.emit({originalEvent: event, node: node});\n                        }\n                    }\n                    else {\n                        if (selected) {\n                            this.selection.splice(index, 1);\n                            this.onNodeUnselect.emit({originalEvent: event, node: node});\n                        }\n                        else {\n                            this.selection = this.selection || [];\n                            this.selection.push(node);\n                            this.onNodeSelect.emit({originalEvent: event, node: node});\n                        }\n                    }\n\n                    this.selectionChange.emit(this.selection);\n                }\n            }\n        }\n\n        this.rowTouched = false;\n    }\n\n    onRowTouchEnd() {\n        this.rowTouched = true;\n    }\n\n    onRowRightClick(event: MouseEvent, node: TreeNode) {\n        if (this.contextMenu) {\n            let index = this.findIndexInSelection(node);\n            let selected = (index >= 0);\n\n            if (!selected) {\n                if (this.isSingleSelectionMode()) {\n                    this.selection = node;\n                }\n                else if (this.isMultipleSelectionMode()) {\n                    this.selection = [];\n                    this.selection.push(node);\n                    this.selectionChange.emit(this.selection);\n                }\n\n                this.selectionChange.emit(this.selection);\n            }\n\n            this.contextMenu.show(event);\n            this.onContextMenuSelect.emit({originalEvent: event, node: node});\n        }\n    }\n\n    findIndexInSelection(node: TreeNode) {\n        let index: number = -1;\n\n        if (this.selectionMode && this.selection) {\n            if (this.isSingleSelectionMode()) {\n                index = (this.selection == node) ? 0 : -1;\n            }\n            else {\n                for (let i = 0; i < this.selection.length; i++) {\n                    if (this.selection[i] == node) {\n                        index = i;\n                        break;\n                    }\n                }\n            }\n        }\n\n        return index;\n    }\n\n    propagateSelectionUp(node: TreeNode, select: boolean) {\n        if (node.children && node.children.length) {\n            let selectedCount: number = 0;\n            let childPartialSelected: boolean = false;\n            for (let child of node.children) {\n                if (this.isSelected(child)) {\n                    selectedCount++;\n                }\n                else if (child.partialSelected) {\n                    childPartialSelected = true;\n                }\n            }\n\n            if (select && selectedCount == node.children.length) {\n                this.selection = this.selection || [];\n                this.selection.push(node);\n                node.partialSelected = false;\n            }\n            else {\n                if (!select) {\n                    let index = this.findIndexInSelection(node);\n                    if (index >= 0) {\n                        this.selection.splice(index, 1);\n                    }\n                }\n\n                if (childPartialSelected || selectedCount > 0 && selectedCount != node.children.length)\n                    node.partialSelected = true;\n                else\n                    node.partialSelected = false;\n            }\n        }\n\n        let parent = node.parent;\n        if (parent) {\n            this.propagateSelectionUp(parent, select);\n        }\n    }\n\n    propagateSelectionDown(node: TreeNode, select: boolean) {\n        let index = this.findIndexInSelection(node);\n\n        if (select && index == -1) {\n            this.selection = this.selection || [];\n            this.selection.push(node);\n        }\n        else if (!select && index > -1) {\n            this.selection.splice(index, 1);\n        }\n\n        node.partialSelected = false;\n\n        if (node.children && node.children.length) {\n            for (let child of node.children) {\n                this.propagateSelectionDown(child, select);\n            }\n        }\n    }\n\n    isSelected(node: TreeNode) {\n        return this.findIndexInSelection(node) != -1;\n    }\n\n    isSingleSelectionMode() {\n        return this.selectionMode && this.selectionMode == 'single';\n    }\n\n    isMultipleSelectionMode() {\n        return this.selectionMode && this.selectionMode == 'multiple';\n    }\n\n    isCheckboxSelectionMode() {\n        return this.selectionMode && this.selectionMode == 'checkbox';\n    }\n\n    getRowStyleClass(rowData: any) {\n        let styleClass = '';\n        if (this.rowStyleClass) {\n            let rowClass = this.rowStyleClass.call(this, rowData);\n            if (rowClass) {\n                styleClass += ' ' + rowClass;\n            }\n        }\n        return styleClass;\n    }\n\n    hasFooter() {\n        if (this.columns) {\n            let columnsArr = this.columns.toArray();\n            for (let i = 0; i < columnsArr.length; i++) {\n                if (columnsArr[i].footer) {\n                    return true;\n                }\n            }\n        }\n        return false;\n    }\n\n    ngOnInit() {\n        if (this.immutable) this.handleDataChange();\n    }\n\n    ngAfterViewInit() {\n        if (this.globalFilter && this.value) {\n            this.globalFilterFunction = this.renderer.listen(this.globalFilter, 'keyup', () => {\n                this.filterTimeout = setTimeout(() => {\n                    this.filter();\n                    this.filterTimeout = null;\n                }, this.filterDelay);\n            });\n        }\n    }\n\n    ngOnChanges(changes: SimpleChanges) {\n        if (changes['value'] && this.value && !this.immutable) {\n            this.handleDataChange();\n        }\n    }\n\n    shownColumns() {\n        return this.columns.filter(col => !col.hidden)\n    }\n\n    handleDataChange() {\n        if (this.paginator) {\n            this.updatePaginator();\n        }\n        this.updateDataToRender(this.filteredValue || this.value);\n    }\n\n    updatePaginator() {\n        this.totalRecords = this.lazy ? this.totalRecords : (this.value ? this.value.length : 0);\n        if (this.totalRecords && this.first >= this.totalRecords) {\n            let numberOfPages = Math.ceil(this.totalRecords / this.rows);\n            this.first = Math.max((numberOfPages - 1) * this.rows, 0);\n        }\n    }\n\n    paginate(event) {\n        this.first = event.first;\n        this.rows = event.rows;\n\n        if (this.lazy) {\n            this.stopFilterPropagation = true;\n        }\n        else {\n            this.updateDataToRender(this.filteredValue || this.value);\n        }\n\n    }\n\n    updateDataToRender(datasource) {\n        if ((this.paginator || this.virtualScroll) && datasource) {\n            this.dataToRender = [];\n            let startIndex: number = this.lazy ? 0 : this.first;\n            let endIndex: number = this.virtualScroll ? this.first + this.rows * 2 : startIndex + this.rows;\n\n            for (let i = startIndex; i < endIndex; i++) {\n                if (i >= datasource.length) {\n                    break;\n                }\n\n                this.dataToRender.push(datasource[i]);\n            }\n        }\n        else {\n            this.dataToRender = datasource;\n        }\n\n        this.loading = false;\n    }\n\n    filterFields(object) {\n        let res = false;\n        this.columns.toArray().map(col => {\n            if (!res && object[col.field]) {\n                res = object[col.field].toString().toLowerCase().includes(this.globalFilter.value.toString().toLowerCase())\n            }\n        });\n        return res;\n    }\n\n    filterChildren(children, parent) {\n        let res = false;\n        if (children) {\n            children.map(child => {\n                let _fields = this.filterFields(child.data);\n                let _children = this.filterChildren(child.children, child);\n                res = _fields || _children || res;\n            });\n            parent.expanded = res;\n        }\n        return res;\n    }\n\n    isFiltered(node) {\n        if (this.globalFilter) {\n            return this.filterFields(node.data) || this.filterChildren(node.children, node)\n        } else {\n            return true;\n        }\n    }\n\n    filter() {\n        this.first = 0;\n\n        this.filteredValue = this.value.filter(val => {\n            return this.filterFields(val.data) || this.filterChildren(val.children, val);\n        });\n\n        if (this.paginator) {\n            this.totalRecords = this.filteredValue ? this.filteredValue.length : this.value ? this.value.length : 0;\n        }\n\n        this.updateDataToRender(this.filteredValue || this.value);\n    }\n\n    filterConstraints = {\n\n        startsWith(value, filter): boolean {\n            if (filter === undefined || filter === null || filter.trim() === '') {\n                return true;\n            }\n\n            if (value === undefined || value === null) {\n                return false;\n            }\n\n            let filterValue = filter.toString().toLowerCase();\n            return value.toString().toLowerCase().slice(0, filterValue.length) === filterValue;\n        },\n\n        contains(value, filter): boolean {\n            if (filter === undefined || filter === null || (typeof filter === 'string' && filter.trim() === '')) {\n                return true;\n            }\n\n            if (value === undefined || value === null) {\n                return false;\n            }\n\n            return value.toString().toLowerCase().indexOf(filter.toLowerCase()) !== -1;\n        },\n\n        endsWith(value, filter): boolean {\n            if (filter === undefined || filter === null || filter.trim() === '') {\n                return true;\n            }\n\n            if (value === undefined || value === null) {\n                return false;\n            }\n\n            let filterValue = filter.toString().toLowerCase();\n            return value.toString().toLowerCase().indexOf(filterValue, value.toString().length - filterValue.length) !== -1;\n        },\n\n        equals(value, filter): boolean {\n            if (filter === undefined || filter === null || (typeof filter === 'string' && filter.trim() === '')) {\n                return true;\n            }\n\n            if (value === undefined || value === null) {\n                return false;\n            }\n\n            return value.toString().toLowerCase() == filter.toString().toLowerCase();\n        },\n\n        in(value, filter: any[]): boolean {\n            if (filter === undefined || filter === null || filter.length === 0) {\n                return true;\n            }\n\n            if (value === undefined || value === null) {\n                return false;\n            }\n\n            for (let i = 0; i < filter.length; i++) {\n                if (filter[i] === value)\n                    return true;\n            }\n\n            return false;\n        }\n    };\n\n    resolveFieldData(data: any, field: string): any {\n        if (data && field) {\n            if (field.indexOf('.') == -1) {\n                return data[field];\n            }\n            else {\n                let fields: string[] = field.split('.');\n                let value = data;\n                for (let i = 0, len = fields.length; i < len; ++i) {\n                    if (value == null) {\n                        return null;\n                    }\n                    value = value[fields[i]];\n                }\n                return value;\n            }\n        }\n        else {\n            return null;\n        }\n    }\n\n    ngOnDestroy() {\n        //remove event listener\n        if (this.globalFilterFunction) {\n            this.globalFilterFunction();\n        }\n    }\n}\n\n@NgModule({\n    imports: [CommonModule, TreeSharedModule, PaginatorModule],\n    exports: [TreeTable, TreeSharedModule, PaginatorModule],\n    declarations: [TreeTable, UITreeRow]\n})\nexport class TreeTableModule {\n}\n","export { TreeTableModule } from './src/component/treetable'","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n\nexport {Paginator as ɵq,PaginatorModule as ɵr} from './src/component/paginator';\nexport {Column as ɵf,ColumnBodyTemplateLoader as ɵj,ColumnEditorTemplateLoader as ɵn,ColumnFilterTemplateLoader as ɵm,ColumnFooterTemplateLoader as ɵl,ColumnHeaderTemplateLoader as ɵk,Footer as ɵc,FooterColumnGroup as ɵi,Header as ɵb,HeaderColumnGroup as ɵh,PrimeTemplate as ɵd,Row as ɵg,TemplateLoader as ɵo,TemplateWrapper as ɵe,TreeSharedModule as ɵp} from './src/component/shared';\nexport {UITreeRow as ɵs} from './src/component/treerow';\nexport {TreeTable as ɵa} from './src/component/treetable';"],"names":[],"mappings":"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"}